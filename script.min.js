function drawBall(t){ctx.beginPath(),ctx.arc(x,y,ballRadius,0,2*Math.PI),ctx.fillStyle=t,ctx.fill(),ctx.closePath()}function drawplatform(){ctx.beginPath(),ctx.rect(platformX,canvas.height-platformHeight,platformWidth,platformHeight),ctx.fillStyle="blue",ctx.fill(),ctx.closePath()}function drawblocks(){for(c=0;c<ColumnCount;c++)for(r=0;r<RowCount;r++)if(1===blocks[c][r].visible){var t=15+c*(blockWidth+blockPadding)+blockOffsetLeft,e=15+r*(blockHeight+blockPadding)+blockOffsetTop;blocks[c][r].x=t,blocks[c][r].y=e,ctx.beginPath(),ctx.rect(t,e,blockWidth,blockHeight),ctx.fillStyle=blocks[c][r].color,ctx.fill(),ctx.closePath()}}function keyDownHandler(t){39===t.keyCode?rightArrowPressed=!0:37===t.keyCode&&(leftArrowPressed=!0)}function keyUpHandler(t){39===t.keyCode?rightArrowPressed=!1:37===t.keyCode&&(leftArrowPressed=!1)}function collisionDetection(){for(c=0;c<ColumnCount;c++)for(r=0;r<RowCount;r++){var t=blocks[c][r];1===t.visible&&x>t.x&&x<t.x+blockWidth&&y>t.y&&y<t.y+blockHeight&&(drawBall("red"),deltaY=-deltaY,t.visible=0,scoreCount+=5,displayScore.innerHTML="Score: "+scoreCount)}}function draw(){ctx.clearRect(0,0,canvas.width,canvas.height),drawblocks(),drawBall("green"),drawplatform(),collisionDetection(),(x+deltaX>canvas.width-ballRadius||x+deltaX<ballRadius)&&(drawBall("red"),deltaX=-deltaX),y+deltaY<ballRadius?(drawBall("red"),deltaY=-deltaY):y+deltaY>canvas.height-ballRadius&&(x>platformX&&x<platformX+platformWidth?(drawBall("red"),deltaY*=-1.09):(displayScore.innerHTML="",gameover.innerHTML="GAME OVER!",score.innerHTML="You scored "+scoreCount+" points!",clearInterval(start))),rightArrowPressed&&platformX<canvas.width-platformWidth?platformX+=4:leftArrowPressed&&platformX>0&&(platformX-=4),x+=deltaX,y+=deltaY}var canvas=document.getElementById("myCanvas"),ctx=canvas.getContext("2d");canvas.style.background="#F5EAD5";var scoreCount=0,gameover=document.querySelector("#gameover"),button=document.querySelector("#restart"),score=document.querySelector("#score"),displayScore=document.querySelector("#displayScore"),platformHeight=10,platformWidth=64,platformX=(canvas.width-platformWidth)/2,rightArrowPressed=!1,leftArrowPressed=!1,x=canvas.width/2,y=canvas.height-30,deltaX=2,deltaY=-2,ballRadius=6,RowCount=9,ColumnCount=5,blockWidth=70,blockHeight=20,blockPadding=10,blockOffsetTop=30,blockOffsetLeft=30;button.addEventListener("click",function(){window.location.reload()});var random=function(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"},blocks=[];for(c=0;c<ColumnCount;c++)for(blocks[c]=[],r=0;r<RowCount;r++)blocks[c][r]={x:0,y:0,visible:1,color:random()};document.addEventListener("keydown",keyDownHandler,!1),document.addEventListener("keyup",keyUpHandler,!1);var start=setInterval(draw,10);start();